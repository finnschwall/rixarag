<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Regex Parser &#8212; rixarag 0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=4f649999" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=039e1c02" />
    <script src="../_static/documentation_options.js?v=2709fde1"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Regex Parser" href="module_pdf_page_matcher.html" />
    <link rel="prev" title="Webscraper" href="module_tools.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="regex-parser">
<h1>Regex Parser<a class="headerlink" href="#regex-parser" title="Link to this heading">¶</a></h1>
<p>Regex parser provides the method to chunk any text document that is structured with a sequence of headers.</p>
<section id="module-rixarag.parsing.regex_parser">
<span id="documentation"></span><h2>Documentation<a class="headerlink" href="#module-rixarag.parsing.regex_parser" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.Chunk">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rixarag.parsing.regex_parser.</span></span><span class="sig-name descname"><span class="pre">Chunk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_pos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_pos</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">separator_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">granularity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#rixarag.parsing.regex_parser.Granularity" title="rixarag.parsing.regex_parser.Granularity"><span class="pre">Granularity</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rixarag.parsing.regex_parser.Chunk" title="Link to this definition">¶</a></dt>
<dd><p>Represents a chunk of text with metadata</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.Chunk.content">
<span class="sig-name descname"><span class="pre">content</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#rixarag.parsing.regex_parser.Chunk.content" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.Chunk.end_pos">
<span class="sig-name descname"><span class="pre">end_pos</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#rixarag.parsing.regex_parser.Chunk.end_pos" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.Chunk.granularity">
<span class="sig-name descname"><span class="pre">granularity</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#rixarag.parsing.regex_parser.Granularity" title="rixarag.parsing.regex_parser.Granularity"><span class="pre">Granularity</span></a></em><a class="headerlink" href="#rixarag.parsing.regex_parser.Chunk.granularity" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.Chunk.separator_type">
<span class="sig-name descname"><span class="pre">separator_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#rixarag.parsing.regex_parser.Chunk.separator_type" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.Chunk.size">
<span class="sig-name descname"><span class="pre">size</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#rixarag.parsing.regex_parser.Chunk.size" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.Chunk.start_pos">
<span class="sig-name descname"><span class="pre">start_pos</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#rixarag.parsing.regex_parser.Chunk.start_pos" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.Granularity">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rixarag.parsing.regex_parser.</span></span><span class="sig-name descname"><span class="pre">Granularity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rixarag.parsing.regex_parser.Granularity" title="Link to this definition">¶</a></dt>
<dd><p>An enumeration.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.Granularity.COARSE">
<span class="sig-name descname"><span class="pre">COARSE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'coarse'</span></em><a class="headerlink" href="#rixarag.parsing.regex_parser.Granularity.COARSE" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.Granularity.FINE">
<span class="sig-name descname"><span class="pre">FINE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'fine'</span></em><a class="headerlink" href="#rixarag.parsing.regex_parser.Granularity.FINE" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.Granularity.FINEST">
<span class="sig-name descname"><span class="pre">FINEST</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'finest'</span></em><a class="headerlink" href="#rixarag.parsing.regex_parser.Granularity.FINEST" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.Granularity.MEDIUM">
<span class="sig-name descname"><span class="pre">MEDIUM</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'medium'</span></em><a class="headerlink" href="#rixarag.parsing.regex_parser.Granularity.MEDIUM" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.Granularity._generate_next_value_">
<span class="sig-name descname"><span class="pre">_generate_next_value_</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">last_values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rixarag.parsing.regex_parser.Granularity._generate_next_value_" title="Link to this definition">¶</a></dt>
<dd><p>Generate the next value when not given.</p>
<p>name: the name of the member
start: the initial start value or None
count: the number of existing members
last_value: the last value assigned or None</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.Granularity._member_map_">
<span class="sig-name descname"><span class="pre">_member_map_</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'COARSE':</span> <span class="pre">Granularity.COARSE,</span> <span class="pre">'FINE':</span> <span class="pre">Granularity.FINE,</span> <span class="pre">'FINEST':</span> <span class="pre">Granularity.FINEST,</span> <span class="pre">'MEDIUM':</span> <span class="pre">Granularity.MEDIUM}</span></em><a class="headerlink" href="#rixarag.parsing.regex_parser.Granularity._member_map_" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.Granularity._member_names_">
<span class="sig-name descname"><span class="pre">_member_names_</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['COARSE',</span> <span class="pre">'MEDIUM',</span> <span class="pre">'FINE',</span> <span class="pre">'FINEST']</span></em><a class="headerlink" href="#rixarag.parsing.regex_parser.Granularity._member_names_" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.Granularity._member_type_">
<span class="sig-name descname"><span class="pre">_member_type_</span></span><a class="headerlink" href="#rixarag.parsing.regex_parser.Granularity._member_type_" title="Link to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.Granularity._value2member_map_">
<span class="sig-name descname"><span class="pre">_value2member_map_</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'coarse':</span> <span class="pre">Granularity.COARSE,</span> <span class="pre">'fine':</span> <span class="pre">Granularity.FINE,</span> <span class="pre">'finest':</span> <span class="pre">Granularity.FINEST,</span> <span class="pre">'medium':</span> <span class="pre">Granularity.MEDIUM}</span></em><a class="headerlink" href="#rixarag.parsing.regex_parser.Granularity._value2member_map_" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.RegexChunker">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">rixarag.parsing.regex_parser.</span></span><span class="sig-name descname"><span class="pre">RegexChunker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">min_chunk_length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">200</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_chunk_length</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_separators</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rixarag.parsing.regex_parser.RegexChunker" title="Link to this definition">¶</a></dt>
<dd><dl class="py method">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.RegexChunker._create_initial_chunks">
<span class="sig-name descname"><span class="pre">_create_initial_chunks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">splits</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">granularity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#rixarag.parsing.regex_parser.Granularity" title="rixarag.parsing.regex_parser.Granularity"><span class="pre">Granularity</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#rixarag.parsing.regex_parser.Chunk" title="rixarag.parsing.regex_parser.Chunk"><span class="pre">Chunk</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#rixarag.parsing.regex_parser.RegexChunker._create_initial_chunks" title="Link to this definition">¶</a></dt>
<dd><p>Create initial chunks based on split points.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.RegexChunker._find_all_splits">
<span class="sig-name descname"><span class="pre">_find_all_splits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">separators</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#rixarag.parsing.regex_parser.RegexChunker._find_all_splits" title="Link to this definition">¶</a></dt>
<dd><p>Find all potential split points in the text using given separators.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.RegexChunker._get_active_separators">
<span class="sig-name descname"><span class="pre">_get_active_separators</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">granularity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#rixarag.parsing.regex_parser.Granularity" title="rixarag.parsing.regex_parser.Granularity"><span class="pre">Granularity</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#rixarag.parsing.regex_parser.RegexChunker._get_active_separators" title="Link to this definition">¶</a></dt>
<dd><p>Get all separator patterns for given granularity and coarser levels</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.RegexChunker._initialize_separator_patterns">
<span class="sig-name descname"><span class="pre">_initialize_separator_patterns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rixarag.parsing.regex_parser.RegexChunker._initialize_separator_patterns" title="Link to this definition">¶</a></dt>
<dd><p>Initialize the patterns for different granularity levels
Latex is most common so we will use this as a base
Custom ones are passed via the custom_separators parameter</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.RegexChunker._make_brace_pattern">
<span class="sig-name descname"><span class="pre">_make_brace_pattern</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rixarag.parsing.regex_parser.RegexChunker._make_brace_pattern" title="Link to this definition">¶</a></dt>
<dd><p>Creates pattern for matching content in curly braces, handling nested braces</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.RegexChunker._make_bracket_pattern">
<span class="sig-name descname"><span class="pre">_make_bracket_pattern</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#rixarag.parsing.regex_parser.RegexChunker._make_bracket_pattern" title="Link to this definition">¶</a></dt>
<dd><p>Creates pattern for optional parameters in square brackets</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.RegexChunker._merge_small_chunks">
<span class="sig-name descname"><span class="pre">_merge_small_chunks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chunks</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#rixarag.parsing.regex_parser.Chunk" title="rixarag.parsing.regex_parser.Chunk"><span class="pre">Chunk</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#rixarag.parsing.regex_parser.Chunk" title="rixarag.parsing.regex_parser.Chunk"><span class="pre">Chunk</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#rixarag.parsing.regex_parser.RegexChunker._merge_small_chunks" title="Link to this definition">¶</a></dt>
<dd><p>Merge chunks that are too small with subsequent chunks.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.RegexChunker.chunk_document">
<span class="sig-name descname"><span class="pre">chunk_document</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">granularity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#rixarag.parsing.regex_parser.Granularity" title="rixarag.parsing.regex_parser.Granularity"><span class="pre">Granularity</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">Granularity.COARSE</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#rixarag.parsing.regex_parser.Chunk" title="rixarag.parsing.regex_parser.Chunk"><span class="pre">Chunk</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#rixarag.parsing.regex_parser.RegexChunker.chunk_document" title="Link to this definition">¶</a></dt>
<dd><p>Split LaTeX document into chunks based on specified granularity.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> – Input LaTeX document text</p></li>
<li><p><strong>granularity</strong> – Granularity level for splitting
COARSE: Major structural elements (chapter, section)
MEDIUM: Minor structural elements (paragraph)
FINE: List items, environments
FINEST: Paragraphs (double newlines)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of Chunk objects containing the split document</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.automatic_chunking">
<span class="sig-prename descclassname"><span class="pre">rixarag.parsing.regex_parser.</span></span><span class="sig-name descname"><span class="pre">automatic_chunking</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">latex_text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desired_chunk_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hard_maximum_chunk_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hard_minimum_chunk_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">200</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunking_per_granularity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fallback_strategy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'split'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">try_clean_text</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">correction_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">document_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'latex'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_separator_patterns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#rixarag.parsing.regex_parser.Chunk" title="rixarag.parsing.regex_parser.Chunk"><span class="pre">Chunk</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#rixarag.parsing.regex_parser.automatic_chunking" title="Link to this definition">¶</a></dt>
<dd><p>Automatically chunk a LaTeX document.</p>
<p>Works recursively i.e. first splitting by sections etc. All chunks that are too large are then split further e.g. by paragraphs.</p>
<p>Requires further processing as the chunks may still be too large</p>
<p>fallback_strategy “split” means that the remaining strings will just split into smaller chunks until they are small enough.
This will not take any structure into account!
“ignore” will not do anything.
“semantic” will use the sematic_chunking class.
“split” (default) will simply cut using character count. If possible increase the hard limit instead of resorting to this.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>latex_text</strong> – The LaTeX document to chunk</p></li>
<li><p><strong>desired_chunk_size</strong> – The desired size of the chunks. Algorithm will go somewhere near this value for the mean. But the success heavily depends on the document!</p></li>
<li><p><strong>hard_maximum_chunk_size</strong> – The maximum size of a chunk. A chunk larger than this size will be referred to the fallback strategy</p></li>
<li><p><strong>hard_minimum_chunk_size</strong> – The minimum size of a chunk. A chunk smaller than this size will be merged with following chunks</p></li>
<li><p><strong>chunking_per_granularity</strong> – A list of tuples with the minimum and maximum chunk size for each granularity level</p></li>
<li><p><strong>fallback_strategy</strong> – The strategy to use when a chunk is too large. Options are “split”, “ignore” and “semantic”</p></li>
<li><p><strong>try_clean_text</strong> – get rid of things outside of the document like imports</p></li>
<li><p><strong>correction_factor</strong> – A factor to correct the desired_chunk_size to get the mean chunk size close to the desired size</p></li>
<li><p><strong>document_type</strong> – The type of document. Choose from “latex” or “markdown”.</p></li>
<li><p><strong>custom_separator_patterns</strong> – Custom separator patterns to use for chunking. Can be used to add support for documents other than LaTeX or Markdown.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.chunks_to_db_chunks_html">
<span class="sig-prename descclassname"><span class="pre">rixarag.parsing.regex_parser.</span></span><span class="sig-name descname"><span class="pre">chunks_to_db_chunks_html</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chunks</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#rixarag.parsing.regex_parser.Chunk" title="rixarag.parsing.regex_parser.Chunk"><span class="pre">Chunk</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#rixarag.parsing.regex_parser.chunks_to_db_chunks_html" title="Link to this definition">¶</a></dt>
<dd><p>Converts a list of Chunk objects from the latex parser into a format to be fed into the database.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.chunks_to_db_chunks_latex">
<span class="sig-prename descclassname"><span class="pre">rixarag.parsing.regex_parser.</span></span><span class="sig-name descname"><span class="pre">chunks_to_db_chunks_latex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chunks</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#rixarag.parsing.regex_parser.Chunk" title="rixarag.parsing.regex_parser.Chunk"><span class="pre">Chunk</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">document_title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">original_pdf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">original_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#rixarag.parsing.regex_parser.chunks_to_db_chunks_latex" title="Link to this definition">¶</a></dt>
<dd><p>Converts a list of Chunk objects from the latex parser into a format to be fed into the database.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.clean_md">
<span class="sig-prename descclassname"><span class="pre">rixarag.parsing.regex_parser.</span></span><span class="sig-name descname"><span class="pre">clean_md</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">markdown</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rixarag.parsing.regex_parser.clean_md" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.clean_text">
<span class="sig-prename descclassname"><span class="pre">rixarag.parsing.regex_parser.</span></span><span class="sig-name descname"><span class="pre">clean_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rixarag.parsing.regex_parser.clean_text" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.extract_heading">
<span class="sig-prename descclassname"><span class="pre">rixarag.parsing.regex_parser.</span></span><span class="sig-name descname"><span class="pre">extract_heading</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">markdown_text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#rixarag.parsing.regex_parser.extract_heading" title="Link to this definition">¶</a></dt>
<dd><p>Extract a heading from markdown text using various methods.
Returns ‘unknown’ if no heading can be found.</p>
<p>Methods tried (in order):
1. Alternate heading syntax (=== or —)
2. Hash-style headers (#)
3. First non-empty line</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.generate_id">
<span class="sig-prename descclassname"><span class="pre">rixarag.parsing.regex_parser.</span></span><span class="sig-name descname"><span class="pre">generate_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rixarag.parsing.regex_parser.generate_id" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.merge_small_chunks">
<span class="sig-prename descclassname"><span class="pre">rixarag.parsing.regex_parser.</span></span><span class="sig-name descname"><span class="pre">merge_small_chunks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chunks</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#rixarag.parsing.regex_parser.Chunk" title="rixarag.parsing.regex_parser.Chunk"><span class="pre">Chunk</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#rixarag.parsing.regex_parser.Chunk" title="rixarag.parsing.regex_parser.Chunk"><span class="pre">Chunk</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#rixarag.parsing.regex_parser.merge_small_chunks" title="Link to this definition">¶</a></dt>
<dd><p>Merges consecutive chunks smaller than min_size into larger chunks.
Processes the list from start to finish.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chunks</strong> – List of Chunk objects to process</p></li>
<li><p><strong>min_size</strong> – Minimum size threshold for chunks</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of merged Chunk objects</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="rixarag.parsing.regex_parser.print_chunks">
<span class="sig-prename descclassname"><span class="pre">rixarag.parsing.regex_parser.</span></span><span class="sig-name descname"><span class="pre">print_chunks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chunks</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#rixarag.parsing.regex_parser.Chunk" title="rixarag.parsing.regex_parser.Chunk"><span class="pre">Chunk</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#rixarag.parsing.regex_parser.print_chunks" title="Link to this definition">¶</a></dt>
<dd><p>Print the whole document with the chunks separated by a line
Use to check if the chunking is working as expected</p>
</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">rixarag</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="module_pipelines.html">Pipelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="module_settings.html">Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="module_database.html">Database</a></li>
<li class="toctree-l1"><a class="reference internal" href="module_tools.html">Webscraper</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Regex Parser</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-rixarag.parsing.regex_parser">Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="module_pdf_page_matcher.html">Regex Parser</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="module_tools.html" title="previous chapter">Webscraper</a></li>
      <li>Next: <a href="module_pdf_page_matcher.html" title="next chapter">Regex Parser</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2024, Finn Schwall, Fraunhofer IOSB.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="../_sources/modules/module_regex_parser.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>